## js学习笔记01

### js自动补全分号

js不是所有换行处都填补分号；只有在缺少了分号就无法正确解析代码的时候，js才会填补分号。

```js
var a
a = 3
consol.log(a)
```

补全之后

```js
var a; a=3;console.log(a);
```

避免有歧义的语句

```js
var y=x+f
(a+b).toString()
```

这一段补全后

```js
var y=x+f(a+b).toString();
```

f被识别成了一个function，导致报错。

**通常来说一条语句以（、[、/、+或-开始，那么它极有可能和前一条语句合并一起解析。**

为了避免错误，这样的语句前加上分号；

```js
var x=0 // 这里省略了分号
;[x, x+1].forEach(console.log) //前面的分号保证了正确地语句解析
```

**当前语句和下一行语句无法合并解析，js会补充分号；，这是通用准则，但是也有例外。涉及return、break和continue语句，这三个语句之后的换行，js必然后补充分号；**

```js
return
true;
```

js会解析成

```js
return; ture;
```

也就是说return、break、continue和随后的表达式之间不能有换行

**还有特殊的就是++和—，它们即可以作为前置运算符，也可以是后置运算符。作为后置运算符的时候，如果没和表达式在同一行，行尾将填补分号，同事++、—将会作为下一行代码的前缀。**

```js
x
++
y
```

这会解析成

```js
x;++y:
```

### 二进制浮点数四舍五入错误

计算机使用的是二进制，可以精确地表示分数，比如1/2、1/8和1/1024。但是我们常用的分数是十进制的1/10，1/100等。二进制并不能精确表示类似0.1这样的简单小数，只能用足够精度表示近似的0.1.

```js
var x=.3-.2; //30美分减去20美分
var y=.2-.1; //20美分减去10美分
x==y // => false 两个值不相等
x==0.1 // => false .3-.2不等于.1
y==0.1 // => true .2-.1等于.1
```

0.3和0.2之间的近似差值实际上并不等于0.2和0.1之间的近似差值

### js非数字值

js中被0整除并不报错，它只是简单地返回无穷大（infinity）或负无穷大（-infinity）。但是0除以0是没有意义的，这种整除运算的结果也是一个非数字（NaN)。无穷大除以无穷大、给任意负数开方或算术运算符与不是数字或无法转换为数字的操作数一起使用时，都将返回NaN。

**NaN它和任何值都不相等，包括自身，也就是没办法通过x==NaN来判断变量x是不是NaN**

应得使用x!=x来判断是不是NaN。函数isNaN()的作用于此类似，如果参数是NaN或者是一个非数字值，则返回true